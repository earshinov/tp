class Model {
	constructor() {
		this.records = [];
		this.objects = [];
		this.sqlModel = new SqlModel();
		this.onChanged = new utils.Delegate();
	}
	addRecord(record) {
		this.records.push(record);
	}
	addObject(object) {
		this.objects.push(object);
	}
	finish() {
		this.sqlModel.init(this);
	}
	swap(other) {
		var tmp;

		tmp = this.records;
		this.records = other.records;
		other.records = tmp;

		tmp = this.objects;
		this.objects = other.objects;
		other.objects = tmp;

		this.sqlModel.swap(other.sqlModel);
	}
	changed() {
		this.onChanged.trigger();
	}
}

module.exports = Model;

var utils = require("app/utils");
var SqlModel = require("app/model/SqlModel");
